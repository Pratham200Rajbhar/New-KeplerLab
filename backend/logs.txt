2026-02-26 18:15:54,647 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 18:15:54,647 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 18:15:54,732 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 18:15:54,734 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 18:15:54,920 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 18:15:54,920 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 18:15:55,948 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 18:16:00,003 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 18:16:00,003 app.services.rag.reranker INFO Reranker loaded successfully in 4.18s
2026-02-26 18:16:00,003 main INFO Reranker preloaded.
2026-02-26 18:16:00,004 main INFO Background job processor task created.
2026-02-26 18:16:00,004 main INFO Ensuring sandbox packages are installed…
2026-02-26 18:16:00,499 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 18:16:00,500 main INFO Output directories ensured.
2026-02-26 18:16:00,500 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 18:16:07,490 app.services.auth.service WARNING Refresh token not found in DB for user 7c06288c-d5d3-4339-a753-4b1cf5a842b6
2026-02-26 18:16:07,491 main INFO POST /auth/refresh 401 0.01s [3c3f0f0c]
2026-02-26 18:16:07,549 app.services.auth.service WARNING Refresh token not found in DB for user 7c06288c-d5d3-4339-a753-4b1cf5a842b6
2026-02-26 18:16:07,550 main INFO POST /auth/refresh 401 0.00s [b0e2689f]
2026-02-26 18:16:17,741 app.routes.auth INFO Login attempt for email: pratham@gmail.com
2026-02-26 18:16:17,744 app.routes.auth WARNING Failed login attempt for email: pratham@gmail.com
2026-02-26 18:16:17,745 main INFO POST /auth/login 401 0.02s [816af25b]
2026-02-26 18:16:21,461 app.routes.auth INFO Login attempt for email: pratham@gmail.com
2026-02-26 18:16:21,465 app.routes.auth WARNING Failed login attempt for email: pratham@gmail.com
2026-02-26 18:16:21,465 main INFO POST /auth/login 401 0.01s [d1eb8f75]
2026-02-26 18:16:39,643 main INFO POST /auth/signup 422 0.00s [9ea84288]
2026-02-26 18:16:47,185 app.routes.auth INFO Signup attempt for email: pratham@gmail.com
2026-02-26 18:16:47,477 app.routes.auth INFO User registered successfully: ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:16:47,478 main INFO POST /auth/signup 201 0.30s [e89398c6]
2026-02-26 18:16:56,457 app.routes.auth INFO Login attempt for email: pratham@gmail.com
2026-02-26 18:16:56,712 app.routes.auth INFO User logged in successfully: ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:16:56,713 main INFO POST /auth/login 200 0.26s [5f22bf65]
2026-02-26 18:16:56,722 main INFO GET /auth/me 200 0.00s [566d1bcc]
2026-02-26 18:16:56,763 performance INFO request_performance
2026-02-26 18:16:56,764 main INFO GET /notebooks 200 0.01s [c4e7627b]
2026-02-26 18:16:56,770 performance INFO request_performance
2026-02-26 18:16:56,770 main INFO GET /notebooks 200 0.00s [5f75db7b]
2026-02-26 18:16:58,690 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:17:19,953 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:19,957 app.services.notebook_service INFO Created notebook: b1f818da-2070-4245-8bc3-e7c29b03d5f2 for user: ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:19,957 app.routes.upload INFO Auto-created notebook '4. IaaS' id=b1f818da-2070-4245-8bc3-e7c29b03d5f2 for batch
2026-02-26 18:17:19,959 app.routes.upload INFO Batch stream: 1.6ms  file=4. IaaS.pdf  size=454825 bytes
2026-02-26 18:17:19,962 app.services.file_validator INFO File validation passed: 4. IaaS.pdf → 8d1a3d3876b24c40bfef0799846dc9ef.pdf (application/pdf, 454825 bytes)
2026-02-26 18:17:19,962 app.routes.upload INFO Validation passed: 4. IaaS.pdf -> 8d1a3d3876b24c40bfef0799846dc9ef.pdf (application/pdf)
2026-02-26 18:17:19,967 app.services.material_service INFO Created material record 92df78f0-f235-4c39-ab6c-cfa35ab94115 (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:19,972 app.services.job_service INFO Created background job 4c28f017-e948-4f6d-946a-5d2deb139d25 type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:19,973 main INFO POST /upload/batch 202 0.04s [2e065535]
2026-02-26 18:17:19,975 app.services.worker INFO Processing job 4c28f017-e948-4f6d-946a-5d2deb139d25 | material=92df78f0-f235-4c39-ab6c-cfa35ab94115 type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:19,981 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/ac27f9295b2c4ec99e28d37103d9ef91_4. IaaS.pdf  ext=pdf  mime=application/pdf  category=document
2026-02-26 18:17:20,048 performance INFO request_performance
2026-02-26 18:17:20,049 main INFO GET /materials 200 0.04s [b8a1af30]
2026-02-26 18:17:20,050 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [0477ca23]
2026-02-26 18:17:20,063 main INFO GET /materials 200 0.01s [db3fe6fe]
2026-02-26 18:17:20,100 app.services.text_processing.pdf_extractor INFO Digital PDF detected (avg 542 chars/page), using PyMuPDF
2026-02-26 18:17:20,121 performance INFO request_performance
2026-02-26 18:17:20,148 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.11s [3b3f50c0]
2026-02-26 18:17:20,150 performance INFO request_performance
2026-02-26 18:17:20,151 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.12s [8561359c]
2026-02-26 18:17:20,153 main INFO GET /materials 200 0.05s [5bd8216d]
2026-02-26 18:17:21,104 app.services.text_processing.resilient_runner INFO PDF-OCR attempt 1/2 (timeout=300s)
2026-02-26 18:17:21,226 app.services.text_processing.ocr_service INFO OCR GPU mode: NVIDIA GeForce RTX 3050 6GB Laptop GPU (CUDA 12.1)
2026-02-26 18:17:21,227 app.services.text_processing.extractor INFO Initialising OCRService singleton — first use.
2026-02-26 18:17:22,838 app.services.text_processing.ocr_service INFO EasyOCR initialised in GPU mode
2026-02-26 18:17:23,265 app.services.text_processing.ocr_service INFO EasyOCR warm-up complete
2026-02-26 18:17:23,266 app.services.text_processing.ocr_service INFO OCR: processing 3/33 pages  pdf=/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/ac27f9295b2c4ec99e28d37103d9ef91_4. IaaS.pdf
2026-02-26 18:17:23,385 app.services.text_processing.ocr_service INFO OCR processing page 1/33
2026-02-26 18:17:24,432 app.services.text_processing.ocr_service INFO OCR processing page 3/33
2026-02-26 18:17:25,395 app.services.text_processing.ocr_service INFO OCR processing page 6/33
2026-02-26 18:17:26,368 app.services.material_service INFO PERF extraction: 6387.5ms  material=92df78f0-f235-4c39-ab6c-cfa35ab94115  category=document
2026-02-26 18:17:26,369 app.services.storage_service INFO Saved material text: 92df78f0-f235-4c39-ab6c-cfa35ab94115 (19217 chars)
2026-02-26 18:17:26,369 app.services.material_service INFO PERF save_text: 0.7ms  material=92df78f0-f235-4c39-ab6c-cfa35ab94115  chars=19217
2026-02-26 18:17:26,370 app.services.text_processing.chunker INFO Detected Markdown structure, using heading-aware chunking
2026-02-26 18:17:26,372 app.services.text_processing.chunker INFO Filtered 40 low-quality chunks
2026-02-26 18:17:26,372 app.services.text_processing.chunker INFO Created 30 chunks from 48 sections (filtered 40 low-quality)
2026-02-26 18:17:26,372 app.services.material_service INFO PERF chunking: 2.2ms  chunks=30  material=92df78f0-f235-4c39-ab6c-cfa35ab94115
2026-02-26 18:17:27,135 app.services.rag.embedder INFO Stored 30 chunks successfully  material=92df78f0-f235-4c39-ab6c-cfa35ab94115  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:17:27,135 app.services.material_service INFO PERF embedding: 758.1ms  chunks=30  material=92df78f0-f235-4c39-ab6c-cfa35ab94115
2026-02-26 18:17:27,139 app.services.material_service INFO PERF _process_material total (critical path): 770.3ms  material=92df78f0-f235-4c39-ab6c-cfa35ab94115
2026-02-26 18:17:27,139 app.services.material_service INFO PERF process_material_by_id total: 7164.6ms  material=92df78f0-f235-4c39-ab6c-cfa35ab94115
2026-02-26 18:17:27,144 app.services.worker INFO [WORKER] job_processing_time=7164.6ms  job=4c28f017-e948-4f6d-946a-5d2deb139d25  material=92df78f0-f235-4c39-ab6c-cfa35ab94115  status=completed
2026-02-26 18:17:27,150 main INFO GET /materials 200 0.01s [ad437b3b]
2026-02-26 18:17:31,617 main INFO GET /materials/92df78f0-f235-4c39-ab6c-cfa35ab94115/text 200 0.01s [107ec244]
2026-02-26 18:17:43,123 app.services.material_service INFO Background AI title updated: material=92df78f0-f235-4c39-ab6c-cfa35ab94115  title='Infrastructure as a Service Overview'
2026-02-26 18:17:43,131 main INFO GET /materials 200 0.01s [6ffe0079]
2026-02-26 18:17:43,460 performance INFO request_performance
2026-02-26 18:17:43,461 main INFO POST /chat/sessions 200 0.02s [9aadbe2f]
2026-02-26 18:17:43,486 performance INFO request_performance
2026-02-26 18:17:43,486 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [96d9db02]
2026-02-26 18:17:43,502 performance INFO request_performance
2026-02-26 18:17:43,502 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [930656ba]
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: rag_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: quiz_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: flashcard_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: ppt_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: python_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Registered tool: research_tool
2026-02-26 18:17:43,552 app.services.agent.tools_registry INFO Initialized 6 tools: ['rag_tool', 'quiz_tool', 'flashcard_tool', 'ppt_tool', 'python_tool', 'research_tool']
2026-02-26 18:17:43,566 app.services.agent.graph INFO Agent graph compiled successfully
2026-02-26 18:17:43,567 performance INFO request_performance
2026-02-26 18:17:43,603 main INFO POST /chat 200 0.11s [7cf2c821]
2026-02-26 18:17:43,605 app.services.agent.intent INFO Detecting intent for message: What is disadvantage...
2026-02-26 18:17:43,607 app.services.agent.intent INFO Keyword intent: QUESTION (confidence=0.50)
2026-02-26 18:17:57,551 main INFO GET /materials/92df78f0-f235-4c39-ab6c-cfa35ab94115/text 200 0.01s [add17c5a]
2026-02-26 18:17:58,485 app.services.agent.intent INFO [intent] LLM fallback: QUESTION (confidence=0.80)
2026-02-26 18:17:58,485 app.services.agent.planner INFO Planning execution for intent: QUESTION
2026-02-26 18:17:58,491 app.services.agent.planner INFO Plan: ['rag_tool', 'research_tool']
2026-02-26 18:17:58,493 app.services.agent.router INFO [router] Executing | intent=QUESTION | step=1/2 | tool=rag_tool | iter=0 | desc='Search materials for answer'
2026-02-26 18:17:58,494 app.services.agent.tools_registry INFO [rag_tool] START | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | materials=['92df78f0-f235-4c39-ab6c-cfa35ab94115'] | query='What is disadvantage'
2026-02-26 18:17:58,506 app.services.rag.secure_retriever INFO Single-source retrieval: top 10 chunks for query: What is disadvantage...
2026-02-26 18:17:58,639 app.services.rag.secure_retriever INFO Retrieved 10 valid chunks
2026-02-26 18:17:58,654 app.services.rag.secure_retriever INFO Applied MMR: 8 diverse chunks selected
2026-02-26 18:17:58,901 app.services.rag.secure_retriever INFO Reranked to top 8 chunks
2026-02-26 18:17:58,901 app.services.rag.context_formatter INFO Formatted 8 sources with citation metadata
2026-02-26 18:18:16,927 app.services.agent.tools_registry INFO [rag_tool] OK | elapsed=18.43s | answer_len=1544 | context_len=5408
2026-02-26 18:18:16,928 app.services.agent.router INFO [router] Result | tool=rag_tool | success=True | output='Based on your **IaaS materials**, here are the key **disadvantages of Infrastructure as a Service**:\n\n## IaaS Disadvanta' | iter=0
2026-02-26 18:18:16,930 app.services.agent.reflection INFO [reflect] iter=1 | tool=rag_tool | intent=QUESTION | steps=1/2 | retries=0 | repairs=0 | tokens=418
2026-02-26 18:18:16,930 app.services.agent.reflection INFO [reflect] CONTINUE: next step 2/2
2026-02-26 18:18:16,932 app.services.agent.router INFO [router] Skipping conditional step 'research_tool' — previous tool had results
2026-02-26 18:18:16,933 app.services.agent.reflection INFO [reflect] iter=2 | tool=rag_tool | intent=QUESTION | steps=2/2 | retries=0 | repairs=0 | tokens=418
2026-02-26 18:18:16,933 app.services.agent.reflection INFO [reflect] RESPOND: all 2 plan step(s) complete
2026-02-26 18:18:30,503 performance INFO request_performance
2026-02-26 18:18:30,504 main INFO POST /chat/sessions 200 0.02s [537d8be6]
2026-02-26 18:18:30,523 performance INFO request_performance
2026-02-26 18:18:30,523 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [3cbe9e6e]
2026-02-26 18:18:30,551 performance INFO request_performance
2026-02-26 18:18:30,551 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [afa18dc2]
2026-02-26 18:18:32,547 performance INFO request_performance
2026-02-26 18:18:32,548 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [b52574ac]
2026-02-26 18:18:35,630 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:18:35,630 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:18:35,954 main INFO POST /auth/refresh 200 0.02s [d2cea813]
2026-02-26 18:18:35,960 main INFO GET /auth/me 200 0.00s [7ec567bd]
2026-02-26 18:18:35,994 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:18:40,810 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:18:40,818 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:18:40,825 performance INFO request_performance
2026-02-26 18:18:40,825 main INFO GET /notebooks 200 0.01s [401fb118]
2026-02-26 18:18:40,830 performance INFO request_performance
2026-02-26 18:18:40,831 main INFO GET /notebooks 200 0.00s [4584dc6e]
2026-02-26 18:18:41,688 performance INFO request_performance
2026-02-26 18:18:41,688 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.00s [80f060b2]
2026-02-26 18:18:41,693 performance INFO request_performance
2026-02-26 18:18:41,693 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.00s [eb7dbdc6]
2026-02-26 18:18:41,702 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:18:41,711 main INFO GET /materials 200 0.01s [b968a6fd]
2026-02-26 18:18:41,715 performance INFO request_performance
2026-02-26 18:18:41,715 performance INFO request_performance
2026-02-26 18:18:41,715 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [ef1ebb77]
2026-02-26 18:18:41,715 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [1686e4f7]
2026-02-26 18:18:41,717 performance INFO request_performance
2026-02-26 18:18:41,717 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.02s [50b22ffa]
2026-02-26 18:18:41,766 main INFO GET /materials 200 0.00s [4c72f22e]
2026-02-26 18:18:41,800 performance INFO request_performance
2026-02-26 18:18:41,801 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [7894e208]
2026-02-26 18:18:43,586 performance INFO request_performance
2026-02-26 18:18:43,586 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [95132fb5]
2026-02-26 18:18:50,918 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:18:50,918 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:18:51,239 main INFO POST /auth/refresh 200 0.07s [ccf7fd62]
2026-02-26 18:18:51,254 main INFO GET /auth/me 200 0.01s [5cf7a833]
2026-02-26 18:18:51,300 performance INFO request_performance
2026-02-26 18:18:51,301 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [e60c905a]
2026-02-26 18:18:51,307 performance INFO request_performance
2026-02-26 18:18:51,308 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [619f539c]
2026-02-26 18:18:51,320 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:18:51,328 main INFO GET /materials 200 0.01s [e2953b65]
2026-02-26 18:18:51,333 performance INFO request_performance
2026-02-26 18:18:51,333 performance INFO request_performance
2026-02-26 18:18:51,334 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [f86f8511]
2026-02-26 18:18:51,334 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [036acca4]
2026-02-26 18:18:51,335 performance INFO request_performance
2026-02-26 18:18:51,336 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.02s [c7a0102e]
2026-02-26 18:18:51,359 main INFO GET /materials 200 0.01s [c61333df]
2026-02-26 18:18:59,635 performance INFO request_performance
2026-02-26 18:18:59,635 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [fb094021]
2026-02-26 18:18:59,642 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:18:59,642 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:18:59,647 performance INFO request_performance
2026-02-26 18:18:59,647 main INFO GET /notebooks 200 0.01s [88eb999f]
2026-02-26 18:18:59,653 performance INFO request_performance
2026-02-26 18:18:59,653 main INFO GET /notebooks 200 0.00s [013ea07f]
2026-02-26 18:19:00,366 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:19:00,367 main INFO GET /materials 200 0.02s [ad137bfa]
2026-02-26 18:19:00,371 performance INFO request_performance
2026-02-26 18:19:00,371 performance INFO request_performance
2026-02-26 18:19:00,372 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [80f3ca15]
2026-02-26 18:19:00,373 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [0cc0bb74]
2026-02-26 18:19:00,373 performance INFO request_performance
2026-02-26 18:19:00,373 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.02s [c5d6ca33]
2026-02-26 18:19:00,378 main INFO GET /materials 200 0.01s [e2c121b5]
2026-02-26 18:19:00,385 performance INFO request_performance
2026-02-26 18:19:00,385 performance INFO request_performance
2026-02-26 18:19:00,386 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [8ad74fd8]
2026-02-26 18:19:00,387 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [9cb1ba71]
2026-02-26 18:19:00,388 performance INFO request_performance
2026-02-26 18:19:00,388 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.01s [d04a26a0]
2026-02-26 18:19:00,391 main INFO GET /materials 200 0.01s [16ca85ed]
2026-02-26 18:19:00,404 main INFO GET /materials 200 0.01s [d2c8d080]
2026-02-26 18:19:00,418 performance INFO request_performance
2026-02-26 18:19:00,418 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.00s [7c256d9a]
2026-02-26 18:19:02,159 performance INFO request_performance
2026-02-26 18:19:02,159 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [9697813d]
2026-02-26 18:19:19,443 performance INFO request_performance
2026-02-26 18:19:19,443 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.00s [ab466627]
2026-02-26 18:19:19,451 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:19:19,451 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:19:19,459 performance INFO request_performance
2026-02-26 18:19:19,459 main INFO GET /notebooks 200 0.01s [80aa6942]
2026-02-26 18:19:19,467 performance INFO request_performance
2026-02-26 18:19:19,468 main INFO GET /notebooks 200 0.01s [82e3011d]
2026-02-26 18:19:20,192 main INFO GET /materials 200 0.01s [86bc72d9]
2026-02-26 18:19:20,196 performance INFO request_performance
2026-02-26 18:19:20,197 performance INFO request_performance
2026-02-26 18:19:20,198 performance INFO request_performance
2026-02-26 18:19:20,198 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [b23986ba]
2026-02-26 18:19:20,199 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [6f37738e]
2026-02-26 18:19:20,199 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.01s [e3e44b60]
2026-02-26 18:19:20,204 main INFO GET /materials 200 0.01s [55026d88]
2026-02-26 18:19:20,207 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:19:20,210 performance INFO request_performance
2026-02-26 18:19:20,210 performance INFO request_performance
2026-02-26 18:19:20,210 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [c1509a05]
2026-02-26 18:19:20,211 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [425c9832]
2026-02-26 18:19:20,212 performance INFO request_performance
2026-02-26 18:19:20,213 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.01s [d66d8527]
2026-02-26 18:19:20,214 main INFO GET /materials 200 0.01s [19c8d813]
2026-02-26 18:19:20,235 main INFO GET /materials 200 0.01s [6d2ebb47]
2026-02-26 18:19:20,250 performance INFO request_performance
2026-02-26 18:19:20,251 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [fa17cff4]
2026-02-26 18:19:24,030 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:19:24,030 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:19:24,051 performance INFO request_performance
2026-02-26 18:19:24,051 performance INFO request_performance
2026-02-26 18:19:24,051 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [996665bb]
2026-02-26 18:19:24,052 main INFO GET /notebooks 200 0.01s [ed742252]
2026-02-26 18:19:24,060 performance INFO request_performance
2026-02-26 18:19:24,061 main INFO GET /notebooks 200 0.01s [0b026f40]
2026-02-26 18:19:24,632 main INFO GET /materials 200 0.01s [bdfc6f80]
2026-02-26 18:19:24,633 performance INFO request_performance
2026-02-26 18:19:24,634 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [64b8596c]
2026-02-26 18:19:24,634 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:19:24,635 performance INFO request_performance
2026-02-26 18:19:24,636 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.02s [326c9604]
2026-02-26 18:19:24,638 performance INFO request_performance
2026-02-26 18:19:24,640 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.02s [a5b8ed20]
2026-02-26 18:19:24,645 main INFO GET /materials 200 0.01s [15745f29]
2026-02-26 18:19:24,646 performance INFO request_performance
2026-02-26 18:19:24,646 main INFO GET /chat/sessions/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [31b852fd]
2026-02-26 18:19:24,649 performance INFO request_performance
2026-02-26 18:19:24,650 performance INFO request_performance
2026-02-26 18:19:24,650 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.01s [cd9d4645]
2026-02-26 18:19:24,650 main INFO GET /notebooks/b1f818da-2070-4245-8bc3-e7c29b03d5f2/content 200 0.01s [a0682a10]
2026-02-26 18:19:24,656 main INFO GET /materials 200 0.00s [b6d1ee21]
2026-02-26 18:19:24,676 performance INFO request_performance
2026-02-26 18:19:24,676 main INFO GET /chat/history/b1f818da-2070-4245-8bc3-e7c29b03d5f2 200 0.00s [03478575]
2026-02-26 18:19:24,709 main INFO GET /materials 200 0.01s [a8658d66]
2026-02-26 18:19:25,740 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:19:25,740 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:19:25,746 performance INFO request_performance
2026-02-26 18:19:25,746 main INFO GET /notebooks 200 0.01s [9725ac96]
2026-02-26 18:19:25,752 performance INFO request_performance
2026-02-26 18:19:25,752 main INFO GET /notebooks 200 0.00s [0c4742d8]
2026-02-26 18:19:26,234 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:19:47,209 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,214 app.services.notebook_service INFO Created notebook: 47996584-c16a-4850-8784-31669b440ebb for user: ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,215 app.routes.upload INFO Auto-created notebook 'Mall_Customers (1)' id=47996584-c16a-4850-8784-31669b440ebb for batch
2026-02-26 18:19:47,215 app.routes.upload INFO Batch stream: 0.3ms  file=Mall_Customers (1).csv  size=4286 bytes
2026-02-26 18:19:47,215 app.services.file_validator INFO File validation passed: Mall_Customers (1).csv → 6bf3082c64b241c4988932fc45861b45.csv (text/csv, 4286 bytes)
2026-02-26 18:19:47,216 app.routes.upload INFO Validation passed: Mall_Customers (1).csv -> 6bf3082c64b241c4988932fc45861b45.csv (text/csv)
2026-02-26 18:19:47,221 app.services.material_service INFO Created material record 12875980-e7c7-48b0-a202-ad6aea9236f8 (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,224 app.services.job_service INFO Created background job 16c5eb39-c54f-425f-bbb0-15519aefe9c2 type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,225 main INFO POST /upload/batch 202 0.02s [0ea60583]
2026-02-26 18:19:47,228 app.services.worker INFO Processing job 16c5eb39-c54f-425f-bbb0-15519aefe9c2 | material=12875980-e7c7-48b0-a202-ad6aea9236f8 type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,233 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/6a747e3f3132409daa3fc6f59ce73628_Mall_Customers (1).csv  ext=csv  mime=text/csv  category=document
2026-02-26 18:19:47,267 main INFO GET /materials 200 0.02s [6f1a6d25]
2026-02-26 18:19:47,270 performance INFO request_performance
2026-02-26 18:19:47,275 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.03s [76b16167]
2026-02-26 18:19:47,280 performance INFO request_performance
2026-02-26 18:19:47,283 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.03s [5f27628e]
2026-02-26 18:19:47,287 performance INFO request_performance
2026-02-26 18:19:47,287 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb/content 200 0.04s [4c2ee2d1]
2026-02-26 18:19:47,287 main INFO GET /materials 200 0.01s [ba57acc4]
2026-02-26 18:19:47,308 app.services.material_service INFO PERF extraction: 75.9ms  material=12875980-e7c7-48b0-a202-ad6aea9236f8  category=document
2026-02-26 18:19:47,313 app.services.material_service INFO Structured fast-path: skipping chunker, 1 summary chunk  material=12875980-e7c7-48b0-a202-ad6aea9236f8  raw_path=/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/6a747e3f3132409daa3fc6f59ce73628_Mall_Customers (1).csv
2026-02-26 18:19:47,315 app.services.storage_service INFO Saved material text: 12875980-e7c7-48b0-a202-ad6aea9236f8 (14732 chars)
2026-02-26 18:19:47,315 app.services.material_service INFO PERF save_text: 1.7ms  material=12875980-e7c7-48b0-a202-ad6aea9236f8  chars=14732
2026-02-26 18:19:47,315 app.services.material_service INFO PERF chunking: 0.0ms  chunks=1  material=12875980-e7c7-48b0-a202-ad6aea9236f8
2026-02-26 18:19:47,319 main INFO GET /materials 200 0.01s [831beb50]
2026-02-26 18:19:47,358 app.services.rag.embedder INFO Stored 1 chunks successfully  material=12875980-e7c7-48b0-a202-ad6aea9236f8  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 18:19:47,358 app.services.material_service INFO PERF embedding: 38.9ms  chunks=1  material=12875980-e7c7-48b0-a202-ad6aea9236f8
2026-02-26 18:19:47,362 app.services.material_service INFO PERF _process_material total (critical path): 53.1ms  material=12875980-e7c7-48b0-a202-ad6aea9236f8
2026-02-26 18:19:47,362 app.services.material_service INFO PERF process_material_by_id total: 134.1ms  material=12875980-e7c7-48b0-a202-ad6aea9236f8
2026-02-26 18:19:47,368 app.services.worker INFO [WORKER] job_processing_time=134.2ms  job=16c5eb39-c54f-425f-bbb0-15519aefe9c2  material=12875980-e7c7-48b0-a202-ad6aea9236f8  status=completed
2026-02-26 18:19:47,373 main INFO GET /materials 200 0.01s [1c9ac025]
2026-02-26 18:19:49,292 main INFO GET /materials/12875980-e7c7-48b0-a202-ad6aea9236f8/text 200 0.01s [24b5d720]
2026-02-26 18:20:04,074 app.services.material_service INFO Background AI title updated: material=12875980-e7c7-48b0-a202-ad6aea9236f8  title='Mall Customer Demographics Dataset'
2026-02-26 18:20:04,085 main INFO GET /materials 200 0.01s [d2249c61]
2026-02-26 18:20:08,181 performance INFO request_performance
2026-02-26 18:20:08,182 main INFO POST /chat/sessions 200 0.07s [8f182a17]
2026-02-26 18:20:08,200 performance INFO request_performance
2026-02-26 18:20:08,200 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [a35aff33]
2026-02-26 18:20:08,214 performance INFO request_performance
2026-02-26 18:20:08,214 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.00s [30844091]
2026-02-26 18:20:08,254 performance INFO request_performance
2026-02-26 18:20:08,254 main INFO POST /chat 200 0.02s [94bbd34d]
2026-02-26 18:20:08,256 app.services.agent.intent INFO Detecting intent for message: implementation of K-Means clustering algorithms using the Mall_Customers.csv dataset. The dataset co...
2026-02-26 18:20:08,256 app.services.agent.intent INFO Keyword intent: DATA_ANALYSIS (confidence=0.90)
2026-02-26 18:20:08,256 app.services.agent.planner INFO Planning execution for intent: DATA_ANALYSIS
2026-02-26 18:20:08,259 app.services.agent.planner INFO Plan: ['data_profiler', 'python_tool']
2026-02-26 18:20:08,260 app.services.agent.router INFO [router] Executing | intent=DATA_ANALYSIS | step=1/2 | tool=data_profiler | iter=0 | desc='Profile structured dataset directly from file path'
2026-02-26 18:20:08,264 app.services.agent.tools.data_profiler INFO [data_profiler] Profiling Mall_Customers (1).csv (/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/6a747e3f3132409daa3fc6f59ce73628_Mall_Customers (1).csv)
2026-02-26 18:20:08,275 app.services.agent.tools.data_profiler INFO [data_profiler] Profile complete: 200 rows × 5 cols
2026-02-26 18:20:08,276 app.services.agent.reflection INFO [reflect] iter=1 | tool=data_profiler | intent=DATA_ANALYSIS | steps=1/2 | retries=0 | repairs=0 | tokens=0
2026-02-26 18:20:08,276 app.services.agent.reflection INFO [reflect] CONTINUE: next step 2/2
2026-02-26 18:20:08,277 app.services.agent.router INFO [router] Executing | intent=DATA_ANALYSIS | step=2/2 | tool=python_tool | iter=1 | desc='Analyse data using pd.read_csv() / pd.read_excel() on the real file path'
2026-02-26 18:20:08,277 app.services.agent.router INFO [router] Chaining: injecting 26 chars from previous tool 'data_profiler'
2026-02-26 18:20:08,277 app.services.agent.tools_registry INFO [python_tool] START | query='implementation of K-Means clustering algorithms using the Mall_Customers.csv dat'
2026-02-26 18:29:04,023 app.services.code_execution.executor INFO Generated 5251 chars of code
2026-02-26 18:29:04,023 app.services.code_execution.executor INFO Mounted 1 parquet file(s) into /tmp/kepler_analysis_4b9mb_9c
2026-02-26 18:29:04,023 app.services.code_execution.executor INFO [ccfbdc43] Executing code (5251 chars)
2026-02-26 18:29:06,341 app.services.code_execution.executor INFO [ccfbdc43] Execution complete: exit=0, timeout=False, elapsed=2.31s, chart=yes
2026-02-26 18:29:44,010 app.services.agent.tools_registry INFO [python_tool] OK | elapsed=538.06s | exit_code=0
2026-02-26 18:29:44,010 app.services.agent.router INFO [router] Result | tool=python_tool | success=True | output='{"stdout": "Silhouette Score for k=5: 0.417\\n\\nCluster Centers (Original Scale):\\n    Age  Annual Income (k$)  Spending ' | iter=1
2026-02-26 18:29:44,013 app.services.agent.reflection INFO [reflect] iter=2 | tool=python_tool | intent=DATA_ANALYSIS | steps=2/2 | retries=0 | repairs=0 | tokens=500
2026-02-26 18:29:44,013 app.services.agent.reflection INFO [reflect] RESPOND: all 2 plan step(s) complete
2026-02-26 18:31:47,148 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:31:47,149 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:31:47,982 main INFO POST /auth/refresh 200 0.01s [8f523b4e]
2026-02-26 18:31:47,995 main INFO GET /auth/me 200 0.00s [3568bc36]
2026-02-26 18:31:48,034 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:31:50,352 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:31:50,353 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:31:50,363 performance INFO request_performance
2026-02-26 18:31:50,363 main INFO GET /notebooks 200 0.01s [9933cf89]
2026-02-26 18:31:50,369 performance INFO request_performance
2026-02-26 18:31:50,369 main INFO GET /notebooks 200 0.00s [d3632b82]
2026-02-26 18:31:51,136 performance INFO request_performance
2026-02-26 18:31:51,136 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.00s [ec0f75b3]
2026-02-26 18:31:51,143 performance INFO request_performance
2026-02-26 18:31:51,143 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [1fad2ccb]
2026-02-26 18:31:51,149 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:31:51,160 main INFO GET /materials 200 0.01s [3447ad2e]
2026-02-26 18:31:51,199 performance INFO request_performance
2026-02-26 18:31:51,200 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.04s [67de2e2e]
2026-02-26 18:31:51,215 performance INFO request_performance
2026-02-26 18:31:51,215 performance INFO request_performance
2026-02-26 18:31:51,215 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb/content 200 0.06s [16fbd282]
2026-02-26 18:31:51,216 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.06s [c4e5e219]
2026-02-26 18:31:51,229 main INFO GET /materials 200 0.05s [db296fb6]
2026-02-26 18:31:51,236 performance INFO request_performance
2026-02-26 18:31:51,236 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [2f6a5bac]
2026-02-26 18:31:55,055 performance INFO request_performance
2026-02-26 18:31:55,055 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [d126d856]
2026-02-26 18:31:55,058 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:31:55,058 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:31:55,064 performance INFO request_performance
2026-02-26 18:31:55,065 main INFO GET /notebooks 200 0.00s [77f54bf0]
2026-02-26 18:31:55,072 performance INFO request_performance
2026-02-26 18:31:55,072 main INFO GET /notebooks 200 0.01s [8c01cc50]
2026-02-26 18:31:55,535 main INFO GET /materials 200 0.01s [50a5a206]
2026-02-26 18:31:55,538 performance INFO request_performance
2026-02-26 18:31:55,539 performance INFO request_performance
2026-02-26 18:31:55,540 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb/content 200 0.01s [dc567bd8]
2026-02-26 18:31:55,540 performance INFO request_performance
2026-02-26 18:31:55,541 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [b25a57a8]
2026-02-26 18:31:55,542 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [66cf1b2d]
2026-02-26 18:31:55,548 main INFO GET /materials 200 0.01s [a4066df0]
2026-02-26 18:31:55,552 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:31:55,556 performance INFO request_performance
2026-02-26 18:31:55,557 performance INFO request_performance
2026-02-26 18:31:55,558 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [0d897e29]
2026-02-26 18:31:55,558 performance INFO request_performance
2026-02-26 18:31:55,558 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb/content 200 0.01s [ac20efa0]
2026-02-26 18:31:55,558 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [35548f52]
2026-02-26 18:31:55,562 main INFO GET /materials 200 0.01s [823222e6]
2026-02-26 18:31:55,576 main INFO GET /materials 200 0.00s [9d4c4554]
2026-02-26 18:31:55,596 performance INFO request_performance
2026-02-26 18:31:55,596 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [f48838f3]
2026-02-26 18:31:57,765 performance INFO request_performance
2026-02-26 18:31:57,765 main INFO POST /chat/sessions 200 0.02s [7264b953]
2026-02-26 18:31:57,786 performance INFO request_performance
2026-02-26 18:31:57,787 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [68f3fb2c]
2026-02-26 18:31:57,813 performance INFO request_performance
2026-02-26 18:31:57,813 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [12d81bc8]
2026-02-26 18:31:59,631 performance INFO request_performance
2026-02-26 18:31:59,631 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [7672b234]
2026-02-26 18:37:39,360 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 18:37:39,360 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 18:37:39,460 app.services.worker INFO Worker shutdown signal sent — waiting up to 30s for in-flight jobs
2026-02-26 18:37:39,461 main INFO Background job processor stopped.
2026-02-26 18:37:39,464 app.db.prisma_client INFO Prisma client disconnected from database
2026-02-26 18:37:48,265 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 18:37:48,265 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 18:37:48,361 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 18:37:48,363 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 18:37:48,576 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 18:37:48,577 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 18:37:49,727 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 18:37:53,231 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 18:37:53,231 app.services.rag.reranker INFO Reranker loaded successfully in 3.65s
2026-02-26 18:37:53,232 main INFO Reranker preloaded.
2026-02-26 18:37:53,233 main INFO Background job processor task created.
2026-02-26 18:37:53,233 main INFO Ensuring sandbox packages are installed…
2026-02-26 18:37:53,764 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 18:37:53,765 main INFO Output directories ensured.
2026-02-26 18:37:53,765 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 18:37:53,771 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 18:43:46,379 main INFO GET /materials/12875980-e7c7-48b0-a202-ad6aea9236f8/text 200 0.01s [42b382d1]
2026-02-26 18:44:48,019 main INFO POST /auth/refresh 200 0.01s [deb747f6]
2026-02-26 18:57:48,055 main INFO POST /auth/refresh 200 0.01s [362ea3bb]
2026-02-26 19:02:04,158 main INFO GET /materials/12875980-e7c7-48b0-a202-ad6aea9236f8/text 200 0.01s [f59edd8c]
2026-02-26 19:02:14,189 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:02:14,189 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:02:14,289 app.services.worker INFO Worker shutdown signal sent — waiting up to 30s for in-flight jobs
2026-02-26 19:02:14,289 main INFO Background job processor stopped.
2026-02-26 19:02:14,292 app.db.prisma_client INFO Prisma client disconnected from database
2026-02-26 19:02:22,145 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 19:02:22,146 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 19:02:22,222 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 19:02:22,223 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 19:02:22,402 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 19:02:22,402 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 19:02:23,549 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 19:02:27,281 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 19:02:27,283 app.services.rag.reranker INFO Reranker loaded successfully in 3.95s
2026-02-26 19:02:27,284 main INFO Reranker preloaded.
2026-02-26 19:02:27,284 main INFO Background job processor task created.
2026-02-26 19:02:27,285 main INFO Ensuring sandbox packages are installed…
2026-02-26 19:02:27,727 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 19:02:27,728 main INFO Output directories ensured.
2026-02-26 19:02:27,728 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 19:02:27,733 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:10:48,124 main INFO POST /auth/refresh 200 0.05s [6071bb49]
2026-02-26 19:14:05,438 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:14:05,438 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:14:05,538 app.services.worker INFO Worker shutdown signal sent — waiting up to 30s for in-flight jobs
2026-02-26 19:14:05,539 main INFO Background job processor stopped.
2026-02-26 19:14:05,542 app.db.prisma_client INFO Prisma client disconnected from database
2026-02-26 19:14:18,840 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 19:14:18,840 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 19:14:19,014 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 19:14:19,016 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 19:14:19,316 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 19:14:19,316 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 19:14:21,029 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 19:14:24,339 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 19:14:24,339 app.services.rag.reranker INFO Reranker loaded successfully in 3.45s
2026-02-26 19:14:24,344 main INFO Reranker preloaded.
2026-02-26 19:14:24,345 main INFO Background job processor task created.
2026-02-26 19:14:24,346 main INFO Ensuring sandbox packages are installed…
2026-02-26 19:14:25,114 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 19:14:25,115 main INFO Output directories ensured.
2026-02-26 19:14:25,115 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 19:14:25,125 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:16:55,626 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:16:55,626 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:16:55,635 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:16:55,650 main INFO GET /materials 200 0.02s [1fbafbbf]
2026-02-26 19:17:39,785 main INFO GET /materials/12875980-e7c7-48b0-a202-ad6aea9236f8/text 200 0.02s [494faee0]
2026-02-26 19:19:20,925 main INFO GET /materials/12875980-e7c7-48b0-a202-ad6aea9236f8/text 200 0.02s [ff0cd5f7]
2026-02-26 19:20:22,670 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:20:22,670 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:20:22,770 app.services.worker INFO Worker shutdown signal sent — waiting up to 30s for in-flight jobs
2026-02-26 19:20:22,771 main INFO Background job processor stopped.
2026-02-26 19:20:22,774 app.db.prisma_client INFO Prisma client disconnected from database
2026-02-26 19:20:35,669 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 19:20:35,670 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 19:20:35,806 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 19:20:35,808 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 19:20:36,091 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 19:20:36,092 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 19:20:37,792 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 19:20:41,046 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 19:20:41,046 app.services.rag.reranker INFO Reranker loaded successfully in 3.39s
2026-02-26 19:20:41,047 main INFO Reranker preloaded.
2026-02-26 19:20:41,048 main INFO Background job processor task created.
2026-02-26 19:20:41,048 main INFO Ensuring sandbox packages are installed…
2026-02-26 19:20:41,764 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 19:20:41,764 main INFO Output directories ensured.
2026-02-26 19:20:41,765 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 19:20:41,776 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:20:41,828 main INFO GET /materials 200 0.06s [bb968728]
2026-02-26 19:20:41,853 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:20:41,854 app.routes.upload INFO Batch stream: 0.7ms  file=dataset3 (1).xlsx  size=8429 bytes
2026-02-26 19:20:41,863 app.services.file_validator INFO File validation passed: dataset3 (1).xlsx → bfd8f3a891d04291b2b0037ba1eedb3b.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, 8429 bytes)
2026-02-26 19:20:41,863 app.routes.upload INFO Validation passed: dataset3 (1).xlsx -> bfd8f3a891d04291b2b0037ba1eedb3b.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)
2026-02-26 19:20:41,870 app.services.material_service INFO Created material record 83f844a9-a012-454d-8001-50f2a1520199 (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:20:41,876 app.services.job_service INFO Created background job b1efca52-b072-4021-b68e-f77fd3ffc93f type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:20:41,879 main INFO POST /upload/batch 202 0.10s [e92573f1]
2026-02-26 19:20:41,887 app.services.worker INFO Processing job b1efca52-b072-4021-b68e-f77fd3ffc93f | material=83f844a9-a012-454d-8001-50f2a1520199 type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:20:41,899 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/11fa0d2031e84b28b6e8870edfe5c0b8_dataset3 (1).xlsx  ext=xlsx  mime=application/vnd.openxmlformats-officedocument.spreadsheetml.sheet  category=document
2026-02-26 19:20:41,964 app.services.material_service INFO PERF extraction: 66.3ms  material=83f844a9-a012-454d-8001-50f2a1520199  category=document
2026-02-26 19:20:41,982 app.services.material_service INFO Structured fast-path: skipping chunker, 1 summary chunk  material=83f844a9-a012-454d-8001-50f2a1520199  raw_path=/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/11fa0d2031e84b28b6e8870edfe5c0b8_dataset3 (1).xlsx
2026-02-26 19:20:41,983 app.services.storage_service INFO Saved material text: 83f844a9-a012-454d-8001-50f2a1520199 (921 chars)
2026-02-26 19:20:41,983 app.services.material_service INFO PERF save_text: 0.5ms  material=83f844a9-a012-454d-8001-50f2a1520199  chars=921
2026-02-26 19:20:41,983 app.services.material_service INFO PERF chunking: 0.0ms  chunks=1  material=83f844a9-a012-454d-8001-50f2a1520199
2026-02-26 19:20:42,047 app.services.rag.embedder INFO Stored 1 chunks successfully  material=83f844a9-a012-454d-8001-50f2a1520199  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:20:42,047 app.services.material_service INFO PERF embedding: 57.9ms  chunks=1  material=83f844a9-a012-454d-8001-50f2a1520199
2026-02-26 19:20:42,053 app.services.material_service INFO PERF _process_material total (critical path): 88.7ms  material=83f844a9-a012-454d-8001-50f2a1520199
2026-02-26 19:20:42,053 app.services.material_service INFO PERF process_material_by_id total: 165.1ms  material=83f844a9-a012-454d-8001-50f2a1520199
2026-02-26 19:20:42,060 app.services.worker INFO [WORKER] job_processing_time=165.2ms  job=b1efca52-b072-4021-b68e-f77fd3ffc93f  material=83f844a9-a012-454d-8001-50f2a1520199  status=completed
2026-02-26 19:20:42,069 main INFO GET /materials 200 0.01s [da86c721]
2026-02-26 19:20:44,550 main INFO GET /materials/83f844a9-a012-454d-8001-50f2a1520199/text 200 0.01s [b9fde1b3]
2026-02-26 19:20:50,700 app.services.material_service INFO Background AI title updated: material=83f844a9-a012-454d-8001-50f2a1520199  title='Years Experience vs Salary Data'
2026-02-26 19:20:50,721 main INFO GET /materials 200 0.01s [b0a09ec4]
2026-02-26 19:21:04,779 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:21:04,781 app.routes.upload INFO Batch stream: 1.6ms  file=Practical 1.docx  size=724002 bytes
2026-02-26 19:21:04,785 app.services.file_validator INFO File validation passed: Practical 1.docx → dcebaba5e07b41c984b4330150603928.docx (application/vnd.openxmlformats-officedocument.wordprocessingml.document, 724002 bytes)
2026-02-26 19:21:04,786 app.routes.upload INFO Validation passed: Practical 1.docx -> dcebaba5e07b41c984b4330150603928.docx (application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2026-02-26 19:21:04,799 app.services.material_service INFO Created material record 2775ef8a-dbfa-47fb-b6cb-e56935926467 (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:21:04,805 app.services.job_service INFO Created background job cb929360-dd91-4035-bc9f-ce50955a4641 type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:21:04,808 main INFO POST /upload/batch 202 0.06s [e5eb7d94]
2026-02-26 19:21:04,811 app.services.worker INFO Processing job cb929360-dd91-4035-bc9f-ce50955a4641 | material=2775ef8a-dbfa-47fb-b6cb-e56935926467 type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:21:04,827 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/aa198767ce9447f6823922b019dc3bf9_Practical 1.docx  ext=docx  mime=application/vnd.openxmlformats-officedocument.wordprocessingml.document  category=document
2026-02-26 19:21:04,872 app.services.material_service INFO PERF extraction: 48.6ms  material=2775ef8a-dbfa-47fb-b6cb-e56935926467  category=document
2026-02-26 19:21:04,873 app.services.storage_service INFO Saved material text: 2775ef8a-dbfa-47fb-b6cb-e56935926467 (3176 chars)
2026-02-26 19:21:04,873 app.services.material_service INFO PERF save_text: 0.7ms  material=2775ef8a-dbfa-47fb-b6cb-e56935926467  chars=3176
2026-02-26 19:21:04,874 app.services.text_processing.chunker INFO No structure detected, using paragraph-based chunking
2026-02-26 19:21:04,874 app.services.text_processing.chunker INFO Filtered 0 low-quality chunks
2026-02-26 19:21:04,874 app.services.text_processing.chunker INFO Created 3 chunks from 1 sections (filtered 0 low-quality)
2026-02-26 19:21:04,874 app.services.material_service INFO PERF chunking: 0.9ms  chunks=3  material=2775ef8a-dbfa-47fb-b6cb-e56935926467
2026-02-26 19:21:04,983 app.services.rag.embedder INFO Stored 3 chunks successfully  material=2775ef8a-dbfa-47fb-b6cb-e56935926467  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:21:04,983 app.services.material_service INFO PERF embedding: 102.0ms  chunks=3  material=2775ef8a-dbfa-47fb-b6cb-e56935926467
2026-02-26 19:21:04,988 app.services.material_service INFO PERF _process_material total (critical path): 115.2ms  material=2775ef8a-dbfa-47fb-b6cb-e56935926467
2026-02-26 19:21:04,988 app.services.material_service INFO PERF process_material_by_id total: 176.4ms  material=2775ef8a-dbfa-47fb-b6cb-e56935926467
2026-02-26 19:21:04,992 app.services.worker INFO [WORKER] job_processing_time=176.5ms  job=cb929360-dd91-4035-bc9f-ce50955a4641  material=2775ef8a-dbfa-47fb-b6cb-e56935926467  status=completed
2026-02-26 19:21:05,003 main INFO GET /materials 200 0.01s [16fb4d36]
2026-02-26 19:21:07,041 main INFO GET /materials/2775ef8a-dbfa-47fb-b6cb-e56935926467/text 200 0.02s [0096433f]
2026-02-26 19:21:18,216 app.services.material_service INFO Background AI title updated: material=2775ef8a-dbfa-47fb-b6cb-e56935926467  title='Data Science Practical: Zoo and COVID Analysis'
2026-02-26 19:21:18,234 main INFO GET /materials 200 0.01s [070b44e1]
2026-02-26 19:22:14,320 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:22:14,322 app.routes.upload INFO Batch stream: 0.8ms  file=4. IaaS.pdf  size=454825 bytes
2026-02-26 19:22:14,324 app.services.file_validator INFO File validation passed: 4. IaaS.pdf → 44bedbe38f684f80a16d8380bd1c2cc4.pdf (application/pdf, 454825 bytes)
2026-02-26 19:22:14,325 app.routes.upload INFO Validation passed: 4. IaaS.pdf -> 44bedbe38f684f80a16d8380bd1c2cc4.pdf (application/pdf)
2026-02-26 19:22:14,361 app.services.material_service INFO Created material record 4f4c7273-ee67-4a43-8399-51a5bbb23761 (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:22:14,366 app.services.job_service INFO Created background job 60ad66ed-d929-416c-b6d7-b8a5f179389e type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:22:14,369 main INFO POST /upload/batch 202 0.06s [56691a03]
2026-02-26 19:22:14,373 app.services.worker INFO Processing job 60ad66ed-d929-416c-b6d7-b8a5f179389e | material=4f4c7273-ee67-4a43-8399-51a5bbb23761 type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:22:14,384 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/d2f0c0456232441daa68c4928b4922fa_4. IaaS.pdf  ext=pdf  mime=application/pdf  category=document
2026-02-26 19:22:14,521 app.services.text_processing.pdf_extractor INFO Digital PDF detected (avg 542 chars/page), using PyMuPDF
2026-02-26 19:22:16,241 app.services.text_processing.resilient_runner INFO PDF-OCR attempt 1/2 (timeout=300s)
2026-02-26 19:22:16,302 app.services.text_processing.ocr_service INFO OCR GPU mode: NVIDIA GeForce RTX 3050 6GB Laptop GPU (CUDA 12.1)
2026-02-26 19:22:16,302 app.services.text_processing.extractor INFO Initialising OCRService singleton — first use.
2026-02-26 19:22:18,850 app.services.text_processing.ocr_service INFO EasyOCR initialised in GPU mode
2026-02-26 19:22:19,099 app.services.text_processing.ocr_service INFO EasyOCR warm-up complete
2026-02-26 19:22:19,100 app.services.text_processing.ocr_service INFO OCR: processing 3/33 pages  pdf=/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/d2f0c0456232441daa68c4928b4922fa_4. IaaS.pdf
2026-02-26 19:22:19,284 app.services.text_processing.ocr_service INFO OCR processing page 1/33
2026-02-26 19:22:20,503 app.services.text_processing.ocr_service INFO OCR processing page 3/33
2026-02-26 19:22:21,860 app.services.text_processing.ocr_service INFO OCR processing page 6/33
2026-02-26 19:22:22,460 main INFO GET /materials 200 0.01s [ee856790]
2026-02-26 19:22:23,203 app.services.material_service INFO PERF extraction: 8820.3ms  material=4f4c7273-ee67-4a43-8399-51a5bbb23761  category=document
2026-02-26 19:22:23,203 app.services.storage_service INFO Saved material text: 4f4c7273-ee67-4a43-8399-51a5bbb23761 (19217 chars)
2026-02-26 19:22:23,204 app.services.material_service INFO PERF save_text: 0.8ms  material=4f4c7273-ee67-4a43-8399-51a5bbb23761  chars=19217
2026-02-26 19:22:23,204 app.services.text_processing.chunker INFO Detected Markdown structure, using heading-aware chunking
2026-02-26 19:22:23,206 app.services.text_processing.chunker INFO Filtered 40 low-quality chunks
2026-02-26 19:22:23,206 app.services.text_processing.chunker INFO Created 30 chunks from 48 sections (filtered 40 low-quality)
2026-02-26 19:22:23,206 app.services.material_service INFO PERF chunking: 2.5ms  chunks=30  material=4f4c7273-ee67-4a43-8399-51a5bbb23761
2026-02-26 19:22:24,045 app.services.rag.embedder INFO Stored 30 chunks successfully  material=4f4c7273-ee67-4a43-8399-51a5bbb23761  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:22:24,046 app.services.material_service INFO PERF embedding: 830.9ms  chunks=30  material=4f4c7273-ee67-4a43-8399-51a5bbb23761
2026-02-26 19:22:24,051 app.services.material_service INFO PERF _process_material total (critical path): 848.5ms  material=4f4c7273-ee67-4a43-8399-51a5bbb23761
2026-02-26 19:22:24,051 app.services.material_service INFO PERF process_material_by_id total: 9678.5ms  material=4f4c7273-ee67-4a43-8399-51a5bbb23761
2026-02-26 19:22:24,057 app.services.worker INFO [WORKER] job_processing_time=9678.6ms  job=60ad66ed-d929-416c-b6d7-b8a5f179389e  material=4f4c7273-ee67-4a43-8399-51a5bbb23761  status=completed
2026-02-26 19:22:24,069 main INFO GET /materials 200 0.01s [74fc620b]
2026-02-26 19:22:25,570 main INFO GET /materials/4f4c7273-ee67-4a43-8399-51a5bbb23761/text 200 0.01s [fdb8ab8b]
2026-02-26 19:22:37,196 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:22:37,197 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:22:38,317 app.services.material_service INFO Background AI title updated: material=4f4c7273-ee67-4a43-8399-51a5bbb23761  title='Infrastructure as a Service (IaaS) Overview'
2026-02-26 19:22:38,998 main INFO POST /auth/refresh 200 0.06s [df94707d]
2026-02-26 19:22:39,018 main INFO GET /auth/me 200 0.01s [54a0521d]
2026-02-26 19:22:39,105 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:22:39,117 performance INFO request_performance
2026-02-26 19:22:39,118 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.03s [a02551b4]
2026-02-26 19:22:39,130 performance INFO request_performance
2026-02-26 19:22:39,130 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [06063e2b]
2026-02-26 19:22:39,167 main INFO GET /materials 200 0.02s [92c13164]
2026-02-26 19:22:39,184 performance INFO request_performance
2026-02-26 19:22:39,187 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb/content 200 0.03s [9365191a]
2026-02-26 19:22:39,190 performance INFO request_performance
2026-02-26 19:22:39,190 performance INFO request_performance
2026-02-26 19:22:39,191 main INFO GET /chat/sessions/47996584-c16a-4850-8784-31669b440ebb 200 0.03s [03afd1b8]
2026-02-26 19:22:39,191 main INFO GET /chat/history/47996584-c16a-4850-8784-31669b440ebb 200 0.03s [d0b79bac]
2026-02-26 19:22:39,210 main INFO GET /materials 200 0.01s [8d238f65]
2026-02-26 19:24:20,692 performance INFO request_performance
2026-02-26 19:24:20,692 main INFO GET /notebooks/47996584-c16a-4850-8784-31669b440ebb 200 0.01s [60d997e0]
2026-02-26 19:24:20,730 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:24:20,730 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:24:20,746 performance INFO request_performance
2026-02-26 19:24:20,747 main INFO GET /notebooks 200 0.01s [3ed07615]
2026-02-26 19:24:20,761 performance INFO request_performance
2026-02-26 19:24:20,761 main INFO GET /notebooks 200 0.01s [217dc38b]
2026-02-26 19:24:22,121 main INFO POST /auth/refresh 200 0.02s [f7c22c9b]
2026-02-26 19:24:22,138 main INFO GET /auth/me 200 0.01s [cb622362]
2026-02-26 19:24:22,170 performance INFO request_performance
2026-02-26 19:24:22,170 main INFO GET /notebooks 200 0.01s [aefacd03]
2026-02-26 19:24:22,184 performance INFO request_performance
2026-02-26 19:24:22,185 main INFO GET /notebooks 200 0.01s [c0709863]
2026-02-26 19:24:40,974 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:24:46,184 app.routes.upload INFO Batch upload started: 1 files user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:46,201 app.services.notebook_service INFO Created notebook: 09b46673-aaee-4c40-b9db-4c9f6590ca3d for user: ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:46,201 app.routes.upload INFO Auto-created notebook '4. IaaS' id=09b46673-aaee-4c40-b9db-4c9f6590ca3d for batch
2026-02-26 19:24:46,203 app.routes.upload INFO Batch stream: 1.3ms  file=4. IaaS.pdf  size=454825 bytes
2026-02-26 19:24:46,206 app.services.file_validator INFO File validation passed: 4. IaaS.pdf → 361b420b52fd4f338b71d0c205c1e324.pdf (application/pdf, 454825 bytes)
2026-02-26 19:24:46,206 app.routes.upload INFO Validation passed: 4. IaaS.pdf -> 361b420b52fd4f338b71d0c205c1e324.pdf (application/pdf)
2026-02-26 19:24:46,216 app.services.material_service INFO Created material record 1ad162c0-5122-4a65-9144-ce5a0b62e48c (pending) for user ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:46,223 app.services.job_service INFO Created background job d5e6c4a5-c859-4c75-97de-13ab4dc33a65 type=material_processing for user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:46,226 main INFO POST /upload/batch 202 0.06s [e3138780]
2026-02-26 19:24:46,230 app.services.worker INFO Processing job d5e6c4a5-c859-4c75-97de-13ab4dc33a65 | material=1ad162c0-5122-4a65-9144-ce5a0b62e48c type=file user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:46,242 app.services.text_processing.extractor INFO Extracting file: /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/8a45fe10c8ed449d9581e6971113f729_4. IaaS.pdf  ext=pdf  mime=application/pdf  category=document
2026-02-26 19:24:46,268 app.services.text_processing.pdf_extractor INFO Digital PDF detected (avg 542 chars/page), using PyMuPDF
2026-02-26 19:24:46,423 performance INFO request_performance
2026-02-26 19:24:46,428 main INFO GET /materials 200 0.10s [e583f8a7]
2026-02-26 19:24:46,429 main INFO GET /chat/sessions/09b46673-aaee-4c40-b9db-4c9f6590ca3d 200 0.06s [2d56eaf5]
2026-02-26 19:24:46,437 performance INFO request_performance
2026-02-26 19:24:46,441 main INFO GET /chat/history/09b46673-aaee-4c40-b9db-4c9f6590ca3d 200 0.06s [3c402ec0]
2026-02-26 19:24:46,446 performance INFO request_performance
2026-02-26 19:24:46,447 main INFO GET /notebooks/09b46673-aaee-4c40-b9db-4c9f6590ca3d/content 200 0.06s [bcb79b6e]
2026-02-26 19:24:46,456 main INFO GET /materials 200 0.02s [e92ce7f0]
2026-02-26 19:24:46,584 main INFO GET /materials 200 0.04s [25ad23c9]
2026-02-26 19:24:48,091 app.services.text_processing.resilient_runner INFO PDF-OCR attempt 1/2 (timeout=300s)
2026-02-26 19:24:48,093 app.services.text_processing.ocr_service INFO OCR: processing 3/33 pages  pdf=/disk2/Projects/KeplerLab-AI-Notebook/backend/./data/uploads/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/8a45fe10c8ed449d9581e6971113f729_4. IaaS.pdf
2026-02-26 19:24:48,269 app.services.text_processing.ocr_service INFO OCR processing page 1/33
2026-02-26 19:24:49,554 app.services.text_processing.ocr_service INFO OCR processing page 3/33
2026-02-26 19:24:50,870 app.services.text_processing.ocr_service INFO OCR processing page 6/33
2026-02-26 19:24:52,120 app.services.material_service INFO PERF extraction: 5880.6ms  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c  category=document
2026-02-26 19:24:52,121 app.services.storage_service INFO Saved material text: 1ad162c0-5122-4a65-9144-ce5a0b62e48c (19217 chars)
2026-02-26 19:24:52,121 app.services.material_service INFO PERF save_text: 0.8ms  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c  chars=19217
2026-02-26 19:24:52,122 app.services.text_processing.chunker INFO Detected Markdown structure, using heading-aware chunking
2026-02-26 19:24:52,124 app.services.text_processing.chunker INFO Filtered 40 low-quality chunks
2026-02-26 19:24:52,124 app.services.text_processing.chunker INFO Created 30 chunks from 48 sections (filtered 40 low-quality)
2026-02-26 19:24:52,124 app.services.material_service INFO PERF chunking: 2.6ms  chunks=30  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c
2026-02-26 19:24:53,042 app.services.rag.embedder INFO Stored 30 chunks successfully  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c  user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe
2026-02-26 19:24:53,042 app.services.material_service INFO PERF embedding: 908.3ms  chunks=30  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c
2026-02-26 19:24:53,048 app.services.material_service INFO PERF _process_material total (critical path): 927.5ms  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c
2026-02-26 19:24:53,048 app.services.material_service INFO PERF process_material_by_id total: 6818.0ms  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c
2026-02-26 19:24:53,052 app.services.worker INFO [WORKER] job_processing_time=6818.1ms  job=d5e6c4a5-c859-4c75-97de-13ab4dc33a65  material=1ad162c0-5122-4a65-9144-ce5a0b62e48c  status=completed
2026-02-26 19:24:53,063 main INFO GET /materials 200 0.01s [1eb7d5cb]
2026-02-26 19:25:25,324 app.routes.ppt INFO PPT request received | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | material=None | max_slides=30 | theme=acadamic with full fill the information on each slide
2026-02-26 19:25:25,335 app.routes.ppt INFO PPT material loaded | material_ids=['1ad162c0-5122-4a65-9144-ce5a0b62e48c'] | text_length=19217
2026-02-26 19:25:25,335 ppt.generator INFO PPT generation started | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=9a7fba5ed177 | text_length=19217 | target_slides=30 | theme=acadamic with full fill the information on each slide | has_extra_instructions=False
2026-02-26 19:25:25,336 ppt.generator INFO PPT prompt built | prompt_length=22374 | build_time=0.000s
2026-02-26 19:32:11,734 app.services.llm_service.structured_invoker INFO Structured output validated successfully (attempt 1)
2026-02-26 19:32:11,734 ppt.generator INFO PPT LLM invocation succeeded | llm_time=406.40s | title=Infrastructure as a Service (IaaS) | slides=30 | html_length=40062
2026-02-26 19:32:11,735 ppt.screenshots INFO Starting slide capture | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=9a7fba5ed177 | slides=30
2026-02-26 19:32:12,088 app.services.material_service INFO Background AI title updated: material=1ad162c0-5122-4a65-9144-ce5a0b62e48c  title='Infrastructure as a Service Overview'
2026-02-26 19:32:12,107 main INFO GET /materials 200 0.01s [26a12f63]
2026-02-26 19:32:54,513 ppt.screenshots INFO Slide capture COMPLETED | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=9a7fba5ed177 | captured=30 slides
2026-02-26 19:32:54,513 ppt.generator INFO PPT generation COMPLETE | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=9a7fba5ed177 | total_time=449.18s | screenshot_time=42.78s | title=Infrastructure as a Service (IaaS) | slide_count=30 | final_html_length=40254 | captured_slides=30
2026-02-26 19:32:54,514 app.routes.ppt INFO PPT generation successful | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | title=Infrastructure as a Service (IaaS) | slides=30 | html_size=40254
2026-02-26 19:32:54,514 main INFO POST /presentation 200 449.21s [db32b719]
2026-02-26 19:32:54,548 app.services.notebook_service INFO Saved presentation content for notebook 09b46673-aaee-4c40-b9db-4c9f6590ca3d (id=27d9af1e-3725-4419-b7bf-f0b9bcbfe226)
2026-02-26 19:32:54,548 performance INFO request_performance
2026-02-26 19:32:54,549 main INFO POST /notebooks/09b46673-aaee-4c40-b9db-4c9f6590ca3d/content 200 0.03s [e6551317]
2026-02-26 19:32:54,623 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_1.png 200 0.01s [679c34a1]
2026-02-26 19:32:54,646 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_2.png 200 0.02s [da815ebf]
2026-02-26 19:32:54,650 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_3.png 200 0.02s [b4e46a12]
2026-02-26 19:32:54,653 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_5.png 200 0.02s [c97e2119]
2026-02-26 19:32:54,653 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_4.png 200 0.02s [eaeeff17]
2026-02-26 19:32:54,661 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_6.png 200 0.03s [a13b394c]
2026-02-26 19:32:54,679 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_7.png 200 0.02s [92d0c20f]
2026-02-26 19:32:54,704 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_8.png 200 0.02s [d74ee52f]
2026-02-26 19:32:54,724 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_9.png 200 0.02s [10730183]
2026-02-26 19:32:54,730 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_10.png 200 0.02s [818fb4ff]
2026-02-26 19:32:54,745 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_11.png 200 0.03s [ed202e27]
2026-02-26 19:32:54,752 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_12.png 200 0.02s [c938eb6b]
2026-02-26 19:32:54,768 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_13.png 200 0.02s [2b698530]
2026-02-26 19:32:54,786 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_15.png 200 0.02s [99449380]
2026-02-26 19:32:54,807 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_14.png 200 0.02s [3e1e8ffa]
2026-02-26 19:32:54,811 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_16.png 200 0.01s [37333866]
2026-02-26 19:32:54,836 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_21.png 200 0.02s [d0a2d09d]
2026-02-26 19:32:54,836 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_17.png 200 0.02s [9b88503c]
2026-02-26 19:32:54,843 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_22.png 200 0.02s [84b3f77e]
2026-02-26 19:32:54,871 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_19.png 200 0.02s [5d5ae770]
2026-02-26 19:32:54,881 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_20.png 200 0.03s [333186c0]
2026-02-26 19:32:54,893 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_18.png 200 0.02s [f9f53f45]
2026-02-26 19:32:54,920 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_23.png 200 0.02s [20e5290a]
2026-02-26 19:32:54,921 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_24.png 200 0.02s [fca39a7c]
2026-02-26 19:32:54,932 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_25.png 200 0.03s [2de12dc1]
2026-02-26 19:32:54,941 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_26.png 200 0.01s [555f0b80]
2026-02-26 19:32:54,963 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_27.png 200 0.01s [f34c8222]
2026-02-26 19:32:54,983 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_28.png 200 0.01s [798b6094]
2026-02-26 19:32:55,006 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_29.png 200 0.02s [07107adc]
2026-02-26 19:32:55,009 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/9a7fba5ed177/slide_30.png 200 0.02s [a1b710cb]
2026-02-26 19:37:22,172 main INFO POST /auth/refresh 200 0.02s [41605bba]
2026-02-26 19:50:22,215 main INFO POST /auth/refresh 200 0.02s [8f650bb5]
2026-02-26 19:52:45,775 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe disconnected
2026-02-26 19:52:45,775 app.services.ws_manager INFO WS disconnect: user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe  remaining=0
2026-02-26 19:52:45,876 app.services.worker INFO Worker shutdown signal sent — waiting up to 30s for in-flight jobs
2026-02-26 19:52:45,876 main INFO Background job processor stopped.
2026-02-26 19:52:45,879 app.db.prisma_client INFO Prisma client disconnected from database
2026-02-26 19:52:55,431 app.db.prisma_client INFO Prisma client connected to database
2026-02-26 19:52:55,432 main INFO Warming up embedding model (running in thread pool)…
2026-02-26 19:52:55,524 app.db.chroma INFO ChromaDB client initialised at /disk2/Projects/KeplerLab-AI-Notebook/backend/./data/chroma
2026-02-26 19:52:55,526 app.db.chroma INFO ChromaDB collection 'chapters' ready
2026-02-26 19:52:55,754 app.services.rag.embedder INFO Embedding model (ChromaDB ONNX) warm-up complete.
2026-02-26 19:52:55,755 main INFO Preloading reranker model (running in thread pool)…
2026-02-26 19:52:57,012 app.services.rag.reranker INFO Loading reranker: BAAI/bge-reranker-large on cuda
2026-02-26 19:53:00,107 app.services.rag.reranker INFO Reranker warm-up forward pass complete
2026-02-26 19:53:00,107 app.services.rag.reranker INFO Reranker loaded successfully in 3.22s
2026-02-26 19:53:00,108 main INFO Reranker preloaded.
2026-02-26 19:53:00,109 main INFO Background job processor task created.
2026-02-26 19:53:00,109 main INFO Ensuring sandbox packages are installed…
2026-02-26 19:53:00,657 app.services.code_execution.sandbox_env INFO [sandbox_env] All 17 packages already installed
2026-02-26 19:53:00,658 main INFO Output directories ensured.
2026-02-26 19:53:00,658 app.services.worker INFO Background job processor started (poll_interval=2.0s, concurrent_limit=5)
2026-02-26 19:53:00,665 app.routes.websocket_router INFO WS /ws/jobs/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe connected
2026-02-26 19:53:56,796 app.routes.ppt INFO PPT request received | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | material=None | max_slides=30 | theme=acadamic
2026-02-26 19:53:56,808 app.routes.ppt INFO PPT material loaded | material_ids=['1ad162c0-5122-4a65-9144-ce5a0b62e48c'] | text_length=19217
2026-02-26 19:53:56,808 ppt.generator INFO PPT generation started | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=a9e736f383db | text_length=19217 | target_slides=30 | theme=acadamic | has_extra_instructions=False
2026-02-26 19:53:56,809 ppt.generator INFO PPT prompt built | prompt_length=23310 | build_time=0.000s
2026-02-26 19:58:16,052 app.services.llm_service.structured_invoker INFO Structured output validated successfully (attempt 1)
2026-02-26 19:58:16,052 ppt.generator INFO PPT LLM invocation succeeded | llm_time=259.24s | title=Infrastructure as a Service (IaaS) | slides=30 | html_length=49091
2026-02-26 19:58:16,053 ppt.screenshots INFO Starting slide capture | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=a9e736f383db | slides=30
2026-02-26 19:58:48,570 ppt.screenshots INFO Slide capture COMPLETED | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=a9e736f383db | captured=30 slides
2026-02-26 19:58:48,570 ppt.generator INFO PPT generation COMPLETE | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | presentation_id=a9e736f383db | total_time=291.76s | screenshot_time=32.52s | title=Infrastructure as a Service (IaaS) | slide_count=30 | final_html_length=49933 | captured_slides=30
2026-02-26 19:58:48,570 app.routes.ppt INFO PPT generation successful | user=ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe | title=Infrastructure as a Service (IaaS) | slides=30 | html_size=49933
2026-02-26 19:58:48,571 main INFO POST /presentation 200 291.79s [44b5cc3a]
2026-02-26 19:58:48,602 app.services.notebook_service INFO Saved presentation content for notebook 09b46673-aaee-4c40-b9db-4c9f6590ca3d (id=a21c3a99-5b9a-43d7-8a86-cae9348de17b)
2026-02-26 19:58:48,602 performance INFO request_performance
2026-02-26 19:58:48,602 main INFO POST /notebooks/09b46673-aaee-4c40-b9db-4c9f6590ca3d/content 200 0.02s [23291d1d]
2026-02-26 19:58:48,664 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_1.png 200 0.01s [b66b95ae]
2026-02-26 19:58:48,673 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_2.png 200 0.01s [e37e5930]
2026-02-26 19:58:48,727 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_3.png 200 0.06s [2bcee28a]
2026-02-26 19:58:48,738 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_9.png 200 0.01s [9d4ed5ff]
2026-02-26 19:58:48,742 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_4.png 200 0.08s [298f4fc7]
2026-02-26 19:58:48,743 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_5.png 200 0.08s [69bac86a]
2026-02-26 19:58:48,743 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_6.png 200 0.08s [9bab03e7]
2026-02-26 19:58:48,756 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_10.png 200 0.01s [d48afc0f]
2026-02-26 19:58:48,757 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_11.png 200 0.00s [767cfde7]
2026-02-26 19:58:48,766 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_13.png 200 0.01s [5bea08e3]
2026-02-26 19:58:48,769 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_12.png 200 0.01s [574dda38]
2026-02-26 19:58:48,772 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_7.png 200 0.09s [c67cd160]
2026-02-26 19:58:48,773 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_8.png 200 0.09s [a98e56e2]
2026-02-26 19:58:48,773 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_14.png 200 0.01s [4fc91942]
2026-02-26 19:58:48,785 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_18.png 200 0.01s [2098aa96]
2026-02-26 19:58:48,788 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_15.png 200 0.01s [fa15debb]
2026-02-26 19:58:48,798 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_19.png 200 0.01s [501da571]
2026-02-26 19:58:48,798 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_17.png 200 0.01s [a1fa1bb5]
2026-02-26 19:58:48,799 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_20.png 200 0.01s [3f5721e3]
2026-02-26 19:58:48,800 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_16.png 200 0.01s [64fbc0e3]
2026-02-26 19:58:48,811 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_21.png 200 0.01s [fe6a4def]
2026-02-26 19:58:48,819 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_22.png 200 0.01s [f319d22a]
2026-02-26 19:58:48,821 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_23.png 200 0.01s [a8209bcc]
2026-02-26 19:58:48,822 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_24.png 200 0.01s [45ee0856]
2026-02-26 19:58:48,828 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_25.png 200 0.01s [7c799b79]
2026-02-26 19:58:48,829 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_26.png 200 0.01s [8a02234c]
2026-02-26 19:58:48,837 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_27.png 200 0.00s [c7c31ca8]
2026-02-26 19:58:48,846 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_28.png 200 0.01s [96a95c9f]
2026-02-26 19:58:48,848 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_29.png 200 0.01s [e11d5adf]
2026-02-26 19:58:48,849 main INFO GET /presentation/slides/ddb53204-9702-4dcf-b2c7-4ab0f0fd2dfe/a9e736f383db/slide_30.png 200 0.00s [967252e2]
